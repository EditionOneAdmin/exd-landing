export interface Dataset {
  id: string;
  title: string;
  source: string;
  description: string;
  countries: number;
  timeRange: string;
  tags: string[];
  category: string;
  popularity: number; // 1-100
  updatedAt: string;
  coverage: number; // percentage
  sparklineData: number[];
  unit: string;
  latestValue: string;
}

export const CATEGORIES = [
  'All',
  'Economy',
  'Health',
  'Environment',
  'Demographics',
  'Energy',
  'Education',
  'Finance',
  'Technology',
] as const;

export type Category = (typeof CATEGORIES)[number];

export const DATASETS: Dataset[] = [
  {
    id: 'gdp-per-capita',
    title: 'GDP per Capita (PPP)',
    source: 'World Bank',
    description: 'Gross domestic product per capita adjusted for purchasing power parity across nations.',
    countries: 196,
    timeRange: '1960–2024',
    tags: ['Economy', 'Growth'],
    category: 'Economy',
    popularity: 98,
    updatedAt: '2024-12',
    coverage: 94,
    sparklineData: [8, 12, 15, 18, 22, 28, 32, 38, 42, 48, 55, 60],
    unit: 'USD',
    latestValue: '$12,379 (global avg)',
  },
  {
    id: 'life-expectancy',
    title: 'Life Expectancy at Birth',
    source: 'WHO',
    description: 'Average number of years a newborn is expected to live under current mortality rates.',
    countries: 194,
    timeRange: '1950–2023',
    tags: ['Health', 'Mortality'],
    category: 'Health',
    popularity: 95,
    updatedAt: '2024-11',
    coverage: 97,
    sparklineData: [46, 50, 55, 58, 62, 65, 68, 70, 72, 73, 73, 72],
    unit: 'Years',
    latestValue: '73.4 years',
  },
  {
    id: 'co2-emissions',
    title: 'CO₂ Emissions per Capita',
    source: 'Our World in Data',
    description: 'Annual carbon dioxide emissions per person from fossil fuels and industry.',
    countries: 207,
    timeRange: '1750–2023',
    tags: ['Environment', 'Climate'],
    category: 'Environment',
    popularity: 92,
    updatedAt: '2024-10',
    coverage: 89,
    sparklineData: [2, 4, 6, 8, 12, 18, 22, 28, 32, 34, 35, 34],
    unit: 'tonnes',
    latestValue: '4.66 tonnes',
  },
  {
    id: 'population-total',
    title: 'Total Population',
    source: 'United Nations',
    description: 'Total population count by country, including projections to 2100.',
    countries: 234,
    timeRange: '1950–2100',
    tags: ['Demographics', 'Census'],
    category: 'Demographics',
    popularity: 97,
    updatedAt: '2024-12',
    coverage: 100,
    sparklineData: [25, 30, 37, 44, 53, 61, 70, 76, 80, 81, 82, 83],
    unit: 'Billion',
    latestValue: '8.1 billion',
  },
  {
    id: 'renewable-energy-share',
    title: 'Renewable Energy Share',
    source: 'IRENA',
    description: 'Share of renewable energy in total final energy consumption.',
    countries: 180,
    timeRange: '2000–2023',
    tags: ['Energy', 'Renewables'],
    category: 'Energy',
    popularity: 88,
    updatedAt: '2024-09',
    coverage: 82,
    sparklineData: [16, 17, 17, 18, 19, 20, 22, 24, 26, 28, 30, 32],
    unit: '%',
    latestValue: '29.9%',
  },
  {
    id: 'literacy-rate',
    title: 'Adult Literacy Rate',
    source: 'UNESCO',
    description: 'Percentage of population aged 15+ who can read and write.',
    countries: 162,
    timeRange: '1976–2023',
    tags: ['Education', 'Literacy'],
    category: 'Education',
    popularity: 82,
    updatedAt: '2024-08',
    coverage: 76,
    sparklineData: [55, 60, 65, 70, 74, 78, 81, 83, 85, 86, 87, 87],
    unit: '%',
    latestValue: '87.1%',
  },
  {
    id: 'stock-market-cap',
    title: 'Stock Market Capitalization',
    source: 'World Bank',
    description: 'Total value of all listed shares in stock markets as % of GDP.',
    countries: 65,
    timeRange: '1975–2023',
    tags: ['Finance', 'Markets'],
    category: 'Finance',
    popularity: 78,
    updatedAt: '2024-11',
    coverage: 58,
    sparklineData: [20, 30, 45, 60, 80, 100, 70, 90, 110, 120, 105, 130],
    unit: '% of GDP',
    latestValue: '108% of GDP',
  },
  {
    id: 'internet-users',
    title: 'Internet Users (% of Population)',
    source: 'ITU / World Bank',
    description: 'Individuals using the internet as a share of total population.',
    countries: 210,
    timeRange: '1990–2023',
    tags: ['Technology', 'Digital'],
    category: 'Technology',
    popularity: 90,
    updatedAt: '2024-10',
    coverage: 91,
    sparklineData: [0, 1, 4, 10, 18, 30, 40, 48, 55, 60, 64, 67],
    unit: '%',
    latestValue: '67.4%',
  },
  {
    id: 'inflation-rate',
    title: 'Inflation Rate (CPI)',
    source: 'IMF',
    description: 'Annual percentage change in consumer price index.',
    countries: 192,
    timeRange: '1980–2024',
    tags: ['Economy', 'Prices'],
    category: 'Economy',
    popularity: 91,
    updatedAt: '2024-12',
    coverage: 90,
    sparklineData: [15, 10, 8, 5, 4, 3, 3, 4, 2, 2, 6, 5],
    unit: '%',
    latestValue: '5.8% (global)',
  },
  {
    id: 'maternal-mortality',
    title: 'Maternal Mortality Ratio',
    source: 'WHO / UNICEF',
    description: 'Deaths per 100,000 live births due to pregnancy complications.',
    countries: 185,
    timeRange: '2000–2022',
    tags: ['Health', 'Maternal'],
    category: 'Health',
    popularity: 75,
    updatedAt: '2024-06',
    coverage: 85,
    sparklineData: [340, 310, 290, 260, 240, 230, 220, 215, 210, 205, 200, 195],
    unit: 'per 100k',
    latestValue: '223 per 100k',
  },
  {
    id: 'deforestation-rate',
    title: 'Forest Area Change',
    source: 'FAO',
    description: 'Net annual change in forest area by country.',
    countries: 170,
    timeRange: '1990–2023',
    tags: ['Environment', 'Forests'],
    category: 'Environment',
    popularity: 80,
    updatedAt: '2024-07',
    coverage: 78,
    sparklineData: [41, 40.5, 40, 39.5, 39.2, 39, 38.8, 38.7, 38.6, 38.5, 38.4, 38.3],
    unit: 'M km²',
    latestValue: '4.06B hectares',
  },
  {
    id: 'urban-population',
    title: 'Urban Population Share',
    source: 'United Nations',
    description: 'Proportion of total population living in urban areas.',
    countries: 234,
    timeRange: '1950–2050',
    tags: ['Demographics', 'Urbanization'],
    category: 'Demographics',
    popularity: 84,
    updatedAt: '2024-11',
    coverage: 98,
    sparklineData: [30, 33, 37, 40, 43, 47, 50, 52, 54, 56, 57, 58],
    unit: '%',
    latestValue: '57%',
  },
  {
    id: 'electricity-access',
    title: 'Access to Electricity',
    source: 'World Bank',
    description: 'Percentage of population with access to electricity.',
    countries: 210,
    timeRange: '1990–2022',
    tags: ['Energy', 'Access'],
    category: 'Energy',
    popularity: 77,
    updatedAt: '2024-05',
    coverage: 88,
    sparklineData: [72, 74, 76, 78, 80, 82, 84, 86, 88, 89, 90, 91],
    unit: '%',
    latestValue: '91.4%',
  },
  {
    id: 'school-enrollment',
    title: 'Primary School Enrollment',
    source: 'UNESCO',
    description: 'Gross enrollment ratio in primary education.',
    countries: 175,
    timeRange: '1970–2023',
    tags: ['Education', 'Enrollment'],
    category: 'Education',
    popularity: 74,
    updatedAt: '2024-08',
    coverage: 80,
    sparklineData: [70, 75, 80, 85, 88, 90, 92, 94, 96, 98, 99, 100],
    unit: '%',
    latestValue: '100% (gross)',
  },
  {
    id: 'fdi-inflows',
    title: 'Foreign Direct Investment Inflows',
    source: 'UNCTAD',
    description: 'Net inflows of foreign direct investment as percentage of GDP.',
    countries: 185,
    timeRange: '1970–2023',
    tags: ['Finance', 'Investment'],
    category: 'Finance',
    popularity: 72,
    updatedAt: '2024-10',
    coverage: 82,
    sparklineData: [5, 8, 12, 20, 35, 50, 40, 55, 60, 45, 65, 70],
    unit: '% of GDP',
    latestValue: '1.3T USD',
  },
  {
    id: 'mobile-subscriptions',
    title: 'Mobile Phone Subscriptions',
    source: 'ITU',
    description: 'Active mobile-cellular telephone subscriptions per 100 inhabitants.',
    countries: 220,
    timeRange: '1980–2023',
    tags: ['Technology', 'Telecom'],
    category: 'Technology',
    popularity: 83,
    updatedAt: '2024-09',
    coverage: 95,
    sparklineData: [0, 1, 3, 10, 25, 50, 70, 85, 95, 105, 110, 112],
    unit: 'per 100',
    latestValue: '110 per 100',
  },
  {
    id: 'gini-index',
    title: 'Gini Index (Income Inequality)',
    source: 'World Bank',
    description: 'Measure of income distribution inequality, 0 = perfect equality.',
    countries: 150,
    timeRange: '1967–2023',
    tags: ['Economy', 'Inequality'],
    category: 'Economy',
    popularity: 86,
    updatedAt: '2024-07',
    coverage: 68,
    sparklineData: [35, 36, 38, 39, 40, 41, 40, 39, 38, 38, 37, 37],
    unit: 'Index',
    latestValue: '37.2 (avg)',
  },
  {
    id: 'vaccine-coverage',
    title: 'Immunization Coverage (DTP3)',
    source: 'WHO / UNICEF',
    description: 'Share of one-year-olds vaccinated against diphtheria, pertussis, and tetanus.',
    countries: 194,
    timeRange: '1980–2023',
    tags: ['Health', 'Vaccines'],
    category: 'Health',
    popularity: 79,
    updatedAt: '2024-09',
    coverage: 93,
    sparklineData: [20, 35, 50, 65, 72, 78, 82, 84, 86, 85, 84, 86],
    unit: '%',
    latestValue: '84%',
  },
  {
    id: 'sea-level-rise',
    title: 'Global Mean Sea Level',
    source: 'NASA / NOAA',
    description: 'Change in global mean sea level relative to 1993 baseline.',
    countries: 1,
    timeRange: '1993–2024',
    tags: ['Environment', 'Climate'],
    category: 'Environment',
    popularity: 85,
    updatedAt: '2024-12',
    coverage: 100,
    sparklineData: [0, 8, 16, 22, 28, 35, 42, 50, 58, 68, 78, 90],
    unit: 'mm',
    latestValue: '+101 mm',
  },
  {
    id: 'fertility-rate',
    title: 'Total Fertility Rate',
    source: 'United Nations',
    description: 'Average number of children born per woman over her lifetime.',
    countries: 234,
    timeRange: '1950–2023',
    tags: ['Demographics', 'Fertility'],
    category: 'Demographics',
    popularity: 87,
    updatedAt: '2024-10',
    coverage: 99,
    sparklineData: [5.0, 4.7, 4.3, 3.9, 3.4, 3.0, 2.7, 2.6, 2.5, 2.4, 2.3, 2.3],
    unit: 'births',
    latestValue: '2.3 births',
  },
  {
    id: 'oil-production',
    title: 'Crude Oil Production',
    source: 'EIA / BP',
    description: 'Daily crude oil production by country in thousands of barrels per day.',
    countries: 95,
    timeRange: '1965–2023',
    tags: ['Energy', 'Fossil Fuels'],
    category: 'Energy',
    popularity: 76,
    updatedAt: '2024-08',
    coverage: 72,
    sparklineData: [30, 40, 50, 55, 60, 65, 72, 78, 82, 85, 80, 82],
    unit: 'mb/d',
    latestValue: '82 mb/d',
  },
  {
    id: 'research-spending',
    title: 'R&D Expenditure (% of GDP)',
    source: 'UNESCO / OECD',
    description: 'Gross domestic expenditure on research and development.',
    countries: 120,
    timeRange: '1996–2022',
    tags: ['Education', 'Innovation'],
    category: 'Education',
    popularity: 71,
    updatedAt: '2024-04',
    coverage: 62,
    sparklineData: [1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.1, 2.2, 2.3, 2.4, 2.5],
    unit: '% of GDP',
    latestValue: '2.7% (OECD)',
  },
  {
    id: 'government-debt',
    title: 'Government Debt to GDP',
    source: 'IMF',
    description: 'General government gross debt as a percentage of GDP.',
    countries: 190,
    timeRange: '2001–2024',
    tags: ['Finance', 'Debt'],
    category: 'Finance',
    popularity: 81,
    updatedAt: '2024-12',
    coverage: 86,
    sparklineData: [55, 58, 60, 62, 72, 68, 65, 67, 70, 82, 92, 93],
    unit: '% of GDP',
    latestValue: '93% (global)',
  },
  {
    id: 'ai-adoption',
    title: 'AI Adoption Rate by Industry',
    source: 'McKinsey / Stanford HAI',
    description: 'Share of organizations that have adopted AI in at least one business function.',
    countries: 50,
    timeRange: '2017–2024',
    tags: ['Technology', 'AI'],
    category: 'Technology',
    popularity: 94,
    updatedAt: '2024-12',
    coverage: 45,
    sparklineData: [20, 25, 32, 40, 47, 50, 55, 65, 72, 72, 72, 72],
    unit: '%',
    latestValue: '72%',
  },
  {
    id: 'trade-openness',
    title: 'Trade Openness (Exports + Imports / GDP)',
    source: 'World Bank',
    description: 'Sum of exports and imports of goods and services as share of GDP.',
    countries: 195,
    timeRange: '1960–2023',
    tags: ['Economy', 'Trade'],
    category: 'Economy',
    popularity: 73,
    updatedAt: '2024-09',
    coverage: 88,
    sparklineData: [24, 26, 30, 35, 40, 48, 52, 55, 58, 56, 52, 58],
    unit: '% of GDP',
    latestValue: '58%',
  },
  {
    id: 'child-mortality',
    title: 'Under-5 Mortality Rate',
    source: 'UNICEF / WHO',
    description: 'Probability of dying between birth and age 5 per 1,000 live births.',
    countries: 195,
    timeRange: '1990–2023',
    tags: ['Health', 'Child Health'],
    category: 'Health',
    popularity: 83,
    updatedAt: '2024-10',
    coverage: 95,
    sparklineData: [93, 85, 76, 68, 60, 52, 46, 42, 39, 38, 37, 36],
    unit: 'per 1000',
    latestValue: '36 per 1000',
  },
  {
    id: 'air-quality-pm25',
    title: 'PM2.5 Air Pollution',
    source: 'WHO / IQAir',
    description: 'Annual mean concentration of fine particulate matter (PM2.5).',
    countries: 175,
    timeRange: '2010–2023',
    tags: ['Environment', 'Pollution'],
    category: 'Environment',
    popularity: 81,
    updatedAt: '2024-11',
    coverage: 79,
    sparklineData: [40, 38, 36, 35, 34, 32, 30, 28, 26, 25, 24, 23],
    unit: 'µg/m³',
    latestValue: '23.7 µg/m³',
  },
  {
    id: 'migration-stock',
    title: 'International Migrant Stock',
    source: 'United Nations',
    description: 'Total number of international migrants by destination country.',
    countries: 232,
    timeRange: '1990–2020',
    tags: ['Demographics', 'Migration'],
    category: 'Demographics',
    popularity: 76,
    updatedAt: '2024-03',
    coverage: 96,
    sparklineData: [153, 165, 175, 191, 222, 244, 258, 272, 281, 281, 281, 281],
    unit: 'millions',
    latestValue: '281 million',
  },
  {
    id: 'ev-market-share',
    title: 'Electric Vehicle Market Share',
    source: 'IEA',
    description: 'Share of electric cars in total new car sales.',
    countries: 40,
    timeRange: '2010–2024',
    tags: ['Energy', 'Transport'],
    category: 'Energy',
    popularity: 89,
    updatedAt: '2024-12',
    coverage: 55,
    sparklineData: [0.1, 0.2, 0.5, 1, 1.5, 2.5, 4, 9, 14, 18, 20, 22],
    unit: '%',
    latestValue: '22% (global)',
  },
  {
    id: 'broadband-speed',
    title: 'Average Broadband Speed',
    source: 'Ookla / Speedtest',
    description: 'Median fixed broadband download speed by country.',
    countries: 182,
    timeRange: '2017–2024',
    tags: ['Technology', 'Infrastructure'],
    category: 'Technology',
    popularity: 79,
    updatedAt: '2024-12',
    coverage: 83,
    sparklineData: [25, 30, 40, 50, 60, 75, 85, 95, 100, 105, 110, 115],
    unit: 'Mbps',
    latestValue: '93 Mbps (avg)',
  },
];

export const SORT_OPTIONS = [
  { key: 'popularity', label: 'Popularity' },
  { key: 'recency', label: 'Recently Updated' },
  { key: 'coverage', label: 'Coverage' },
] as const;

export type SortKey = (typeof SORT_OPTIONS)[number]['key'];

export function sortDatasets(datasets: Dataset[], sortKey: SortKey): Dataset[] {
  return [...datasets].sort((a, b) => {
    switch (sortKey) {
      case 'popularity':
        return b.popularity - a.popularity;
      case 'recency':
        return b.updatedAt.localeCompare(a.updatedAt);
      case 'coverage':
        return b.coverage - a.coverage;
      default:
        return 0;
    }
  });
}
